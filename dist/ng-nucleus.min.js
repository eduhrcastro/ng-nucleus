(function(root,factory){"function"==typeof define&&define.amd?define(["exports","angular","moment","validator","BrV"],function(exports,angular,moment,validator,BrV){factory(root.ngNucleus=exports,angular,moment,validator,BrV)}):"object"==typeof exports?factory(exports,require("angular"),require("moment.js"),require("validator.js"),require("br-validations.js")):factory(root.ngNucleus={},root.angular,root.moment,root.validator,root.BrV)})(this,function(exports,angular){'use strict';var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("ngNucleus",[]),"use strict";var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)};(function(){angular.module("ngNucleus").directive("uiTitulo",["$log","Validations",function($log,Validations){return{require:"ngModel",scope:{ngModel:"=ngModel"},link:function(scope,iElement,iAttrs,ngModelCtrl){var clearValue=function(rawValue){return rawValue.toString().replace(/[^0-9]/g,"").slice(0,12)},format=function(cleanValue){return cleanValue.trim().replace(/[^0-9]$/,"")},validations=function(value){return $log.log(value),$log.log(Validations.isTitulo(value)),$log.log(Validations.isBrPhoneNumber("5585996592604")),Validations.isTitulo(value)};ngModelCtrl.$formatters.push(function(value){if(ngModelCtrl.$isEmpty(value))return value;var cleanValue=clearValue(value.toString());return format(cleanValue)}),ngModelCtrl.$parsers.push(function(value){if(ngModelCtrl.$setValidity("titulo",!0),ngModelCtrl.$isEmpty(value))return value;var cleanValue=clearValue(value.toString()),formattedValue=format(cleanValue);if(validations(cleanValue)||ngModelCtrl.$setValidity("titulo",!1),ngModelCtrl.$viewValue!==formattedValue&&(ngModelCtrl.$setViewValue(formattedValue),ngModelCtrl.$render()),angular.isUndefined(ngModelCtrl.getModelValue))return cleanValue;var actualModelType=_typeof(ngModelCtrl.$modelValue);return ngModelCtrl.getModelValue(formattedValue,actualModelType)})}}}])})(),"use strict",function(){angular.module("ngNucleus").directive("uiUpperCase",[function(){return{require:"ngModel",scope:{ngModel:"=ngModel"},link:function(scope){scope.$watch("ngModel",function(value){value&&(scope.ngModel=value.toString().toUpperCase())})}}}])}(),"use strict",function(){angular.module("ngNucleus").factory("Validations",["moment","validator","BrV",function(moment,validator,BrV){var stringDefault=function(string){return string=string.replace(/[ÁÀÂÃ]/gi,"a"),string=string.replace(/[ÉÈÊ]/gi,"e"),string=string.replace(/[ÍÌÎ]/gi,"i"),string=string.replace(/[ÓÒÔÕ]/gi,"o"),string=string.replace(/[ÚÙÛ]/gi,"u"),string=string.replace(/[Ç]/gi,"c"),string=string.replace(/ /g,"_"),string};return{isRequired:function(array,item){return array.includes(item)},isNullOrEmpty:function(value){return null==value||""===value},isName:function(value){return!value.toString().trim().match(/[^a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-+$]/g)},isUrl:function(value){return validator.isURL(value)},isCpf:function(value){return BrV.cpf.validate(value)},isRg:function(value){return value.toString().trim().match(/([0-9])/g)&&0<value.length&&16>value.length},isUf:function(value){return["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].includes(value)},isTitulo:function(value){value=value.toString().replace(/[^0-9]/g,"").slice(0,12);var uf=value.substr(-4,2);if(5>value.length||13<value.length||value[1].repeat(value.length)===value||1>uf||28<uf)return!1;for(var dv=value.substr(-2),sequence=value.substr(0,value.length-4),i=0;2>i;i++){for(var fator=9,soma=0,j=sequence.length-1;-1<j;j--)soma+=sequence[j]*fator,fator===2&&(fator=10),fator--;var digit=soma%11;if(0==digit&&3>uf?digit=1:10==digit&&(digit=0),dv[i]!==digit)return!1;0==i?sequence=uf.concat(digit):void 0}return!0},isNumber:function(value){return!isNaN(value)},isString:function(value){return angular.isString(value)},isGenre:function(value){return["masculino","feminino"].includes(value.toString().trim().toLowerCase())},isCivilStatus:function(value){return["solteiro","casado","divorciado"].includes(value.toString().trim().toLowerCase())},isInstruction:function(value){return["superior","superior_incompleto","ensino_medio","ensino_fundamental"].includes(stringDefault(value.toString().trim().toLowerCase()))},isDateOnly:function(value){return moment(value).isValid()},isTimer:function(value){return moment(value,"HH:mm").isValid()},isCep:function(value){return 8===value.toString().trim().length},isBrPhoneNumber:function(value){return validator.isMobilePhone(value,["pt-BR"])},isEmail:function(value){return validator.isEmail(value)},isCnpj:function(value){return BrV.cnpj.validate(value)},isIe:function(value,state){return BrV.ie(state).validate(value)},isPis:function(value){return BrV.pis.validate(value)},isBrBoletoBancario:function(value){return 47===value.length},isCarPlate:function(value){return 7===value.toString().trim().length},isNfeAccessKey:function(value){return 44===value.length},isUserType:function(value){return["admin","regular"].includes(value)},isBoolean:function(value){return!1===value||!0===value||0===value||1===value},isContactType:function(value){return["trabalho","celular","particular","outros"].includes(value)},isContactKey:function(value){return["sim","nao","nenhum"].includes(value)},isTypeUnity:function(value){return["m","pc","kg"].includes(value)},isInscricaoMunicipal:function(value){return!isNaN(value)&&!["000000000000000","111111111111111","222222222222222","333333333333333","444444444444444","555555555555555","666666666666666","777777777777777","888888888888888","999999999999999"].includes(value)&&0<value.toString().length&&16>value.toString().length},isWeek:function(value){return["seg","ter","qua","qui","sex","sab","dom"].includes(value)},isShiftCategory:function(value){return["normal","compensado","folga"].includes(value)},isPosition:function(){return!0}}}])}(),exports.ngNucleus=exports.default});