(function(root,factory){"function"==typeof define&&define.amd?define(["exports","angular","moment","validator","BrV"],factory):"object"==typeof exports?factory(exports,require("angular"),require("angular-moment"),require("validator"),require("br-validations")):factory(root.ngNucleus={},root.angular,root.moment,root.validator,root.BrV)})(this,function(exports,angular,moment,validator,BrV){"use strict";function _typeof2(obj){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof2(obj)}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return _typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)},_typeof(obj)}if(Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,null==angular)throw new Error("Angularjs cannot be found by ng-nucleus!");if(!angular.isFunction(moment)||angular.isUndefined(moment))throw new Error("Moment cannot be found by ng-nucleus!");if(!angular.isObject(validator)||angular.isUndefined(validator))throw new Error("Validator.js cannot be found by ng-nucleus!");if(!angular.isObject(BrV)||angular.isUndefined(BrV))throw new Error("Br-validations.js cannot be found by ng-nucleus!");var _default=angular.module("ngNucleus",[]);exports.default=_default,"use strict",function(){angular.module("ngNucleus").directive("uiTitulo",["Validations",function(Validations){return{require:"ngModel",link:function(scope,iElement,iAttrs,ngModelCtrl){var clearValue=function(rawValue){return rawValue.toString().replace(/[^0-9]/g,"").slice(0,12)},format=function(cleanValue){return cleanValue.trim().replace(/[^0-9]$/,"")},validations=function(value){return Validations.isTitulo(value)};ngModelCtrl.$formatters.push(function(value){if(ngModelCtrl.$isEmpty(value))return value;var cleanValue=clearValue(value.toString());return format(cleanValue)}),ngModelCtrl.$parsers.push(function(value){if(ngModelCtrl.$setValidity("titulo",!0),ngModelCtrl.$isEmpty(value))return ngModelCtrl.$setValidity("titulo",!1),value;var cleanValue=clearValue(value.toString()),formattedValue=format(cleanValue);if(validations(cleanValue)||ngModelCtrl.$setValidity("titulo",!1),ngModelCtrl.$viewValue!==formattedValue&&(ngModelCtrl.$setViewValue(formattedValue),ngModelCtrl.$render()),angular.isUndefined(ngModelCtrl.getModelValue))return cleanValue;var actualModelType=_typeof(ngModelCtrl.$modelValue);return ngModelCtrl.getModelValue(formattedValue,actualModelType)})}}}])}(),"use strict",function(){angular.module("ngNucleus").directive("uiUpperCase",[function(){return{require:"ngModel",link:function(scope,iElement,iAttrs,ngModelCtrl){ngModelCtrl.$parsers.push(function(value){return value.toString().toUpperCase()})}}}])}(),"use strict",function(){angular.module("ngNucleus").factory("Validations",[function(){return{isTitulo:function(value){value=value.toString();var dig1=0,dig2=0,tam=value.length,digitos=value.substr(tam-2,2),estado=value.substr(tam-4,2),titulo=value.substr(0,tam-2);titulo="000000000000"+titulo,titulo=titulo.substr(titulo.length-11,titulo.length-1);var exce="01"===estado||"02"===estado;dig1=2*(titulo.charCodeAt(0)-48)+9*(titulo.charCodeAt(1)-48)+8*(titulo.charCodeAt(2)-48)+7*(titulo.charCodeAt(3)-48)+6*(titulo.charCodeAt(4)-48)+5*(titulo.charCodeAt(5)-48)+4*(titulo.charCodeAt(6)-48)+3*(titulo.charCodeAt(7)-48)+2*(titulo.charCodeAt(8)-48);var resto=dig1%11;return dig1=0==resto?exce?1:0:1==resto?0:11-resto,dig2=4*(titulo.charCodeAt(9)-48)+3*(titulo.charCodeAt(10)-48)+2*dig1,resto=dig2%11,dig2=0==resto?exce?1:0:1==resto?0:11-resto,digitos.charCodeAt(0)-48==dig1&&digitos.charCodeAt(1)-48===dig2}}}])}(),exports.ngNucleus=exports.default});