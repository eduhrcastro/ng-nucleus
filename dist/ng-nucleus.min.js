(function(root,factory){"function"==typeof define&&define.amd?define(["exports","angular","moment","validator","BrV"],factory):"object"==typeof exports?factory(exports,require("angular"),require("angular-moment"),require("validator"),require("br-validations")):factory(root.ngNucleus={},root.angular,root.moment,root.validator,root.BrV)})(this,function(exports,angular,moment,validator,BrV){"use strict";function _typeof2(obj){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof2(obj)}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return _typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)},_typeof(obj)}if(Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,null==angular)throw new Error("Angularjs cannot be found by ng-nucleus!");if(!angular.isFunction(moment)||angular.isUndefined(moment))throw new Error("Moment cannot be found by ng-nucleus!");if(!angular.isObject(validator)||angular.isUndefined(validator))throw new Error("Validator.js cannot be found by ng-nucleus!");if(!angular.isObject(BrV)||angular.isUndefined(BrV))throw new Error("Br-validations.js cannot be found by ng-nucleus!");var _default=angular.module("ngNucleus",[]);exports.default=_default,"use strict",function(){angular.module("ngNucleus").directive("uiTitulo",["Validations",function(Validations){return{require:"ngModel",link:function(scope,iElement,iAttrs,ngModelCtrl){var clearValue=function(rawValue){return rawValue.toString().replace(/[^0-9]/g,"").slice(0,12)},format=function(cleanValue){return cleanValue.trim().replace(/[^0-9]$/,"")},validations=function(value){return Validations.isTitulo(value)};ngModelCtrl.$formatters.push(function(value){if(ngModelCtrl.$isEmpty(value))return value;var cleanValue=clearValue(value.toString());return format(cleanValue)}),ngModelCtrl.$parsers.push(function(value){if(ngModelCtrl.$setValidity("titulo",!0),ngModelCtrl.$isEmpty(value))return ngModelCtrl.$setValidity("titulo",!1),value;var cleanValue=clearValue(value.toString()),formattedValue=format(cleanValue);if(validations(cleanValue)||ngModelCtrl.$setValidity("titulo",!1),ngModelCtrl.$viewValue!==formattedValue&&(ngModelCtrl.$setViewValue(formattedValue),ngModelCtrl.$render()),angular.isUndefined(ngModelCtrl.getModelValue))return cleanValue;var actualModelType=_typeof(ngModelCtrl.$modelValue);return ngModelCtrl.getModelValue(formattedValue,actualModelType)})}}}])}(),"use strict",function(){angular.module("ngNucleus").directive("uiUpperCase",[function(){return{require:"ngModel",link:function(scope,iElement,iAttrs,ngModelCtrl){ngModelCtrl.$parsers.push(function(value){return value.toString().toUpperCase()})}}}])}(),"use strict",function(){angular.module("ngNucleus").factory("Validations",["$window",function($window){var stringDefault=function(string){return string=string.replace(/[ÁÀÂÃ]/gi,"a"),string=string.replace(/[ÉÈÊ]/gi,"e"),string=string.replace(/[ÍÌÎ]/gi,"i"),string=string.replace(/[ÓÒÔÕ]/gi,"o"),string=string.replace(/[ÚÙÛ]/gi,"u"),string=string.replace(/[Ç]/gi,"c"),string=string.replace(/ /g,"_"),string};return{isRequired:function(array,item){return array.includes(item)},isNullOrEmpty:function(value){return null==value||""===value},isName:function(value){return!value.toString().trim().match(/[^a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-+$]/g)},isUrl:function(value){return $window.validator.isURL(value)},isCpf:function(value){return $window.BrV.cpf.validate(value)},isRg:function(value){return value.toString().trim().match(/([0-9])/g)&&0<value.length&&16>value.length},isUf:function(value){return["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].includes(value)},isTitulo:function(value){var dig1=0,dig2=0,tam=value.length,digitos=value.substr(tam-2,2),estado=value.substr(tam-4,2),titulo=value.substr(0,tam-2);titulo="000000000000"+titulo,titulo=titulo.substr(titulo.length-11,titulo.length-1);var exce="01"===estado||"02"===estado;dig1=2*(titulo.charCodeAt(0)-48)+9*(titulo.charCodeAt(1)-48)+8*(titulo.charCodeAt(2)-48)+7*(titulo.charCodeAt(3)-48)+6*(titulo.charCodeAt(4)-48)+5*(titulo.charCodeAt(5)-48)+4*(titulo.charCodeAt(6)-48)+3*(titulo.charCodeAt(7)-48)+2*(titulo.charCodeAt(8)-48);var resto=dig1%11;return dig1=0==resto?exce?1:0:1==resto?0:11-resto,dig2=4*(titulo.charCodeAt(9)-48)+3*(titulo.charCodeAt(10)-48)+2*dig1,resto=dig2%11,dig2=0==resto?exce?1:0:1==resto?0:11-resto,digitos.charCodeAt(0)-48==dig1&&digitos.charCodeAt(1)-48===dig2},isNumber:function(value){return!isNaN(value)},isString:function(value){return angular.isString(value)},isGenre:function(value){return["masculino","feminino"].includes(value.toString().trim().toLowerCase())},isCivilStatus:function(value){return["solteiro","casado","divorciado"].includes(value.toString().trim().toLowerCase())},isInstruction:function(value){return["superior","superior_incompleto","ensino_medio","ensino_fundamental"].includes(stringDefault(value.toString().trim().toLowerCase()))},isDateOnly:function(value){return $window.moment(value).isValid()},isTimer:function(value){return $window.moment(value,"HH:mm").isValid()},isCep:function(value){return 8===value.toString().trim().length},isBrPhoneNumber:function(value){return $window.validator.isMobilePhone(value,["pt-BR"])},isEmail:function(value){return $window.validator.isEmail(value)},isCnpj:function(value){return $window.BrV.cnpj.validate(value)},isIe:function(value,state){return $window.BrV.ie(state).validate(value)},isPis:function(value){return $window.BrV.pis.validate(value)},isBrBoletoBancario:function(value){return 47===value.length},isCarPlate:function(value){return 7===value.toString().trim().length},isNfeAccessKey:function(value){return 44===value.length},isUserType:function(value){return["admin","regular"].includes(value)},isBoolean:function(value){return!1===value||!0===value||0===value||1===value},isContactType:function(value){return["trabalho","celular","particular","outros"].includes(value)},isContactKey:function(value){return["sim","nao","nenhum"].includes(value)},isTypeUnity:function(value){return["m","pc","kg"].includes(value)},isInscricaoMunicipal:function(value){return!isNaN(value)&&!["000000000000000","111111111111111","222222222222222","333333333333333","444444444444444","555555555555555","666666666666666","777777777777777","888888888888888","999999999999999"].includes(value)&&0<value.toString().length&&16>value.toString().length},isWeek:function(value){return["seg","ter","qua","qui","sex","sab","dom"].includes(value)},isShiftCategory:function(value){return["normal","compensado","folga"].includes(value)},isPosition:function(){return!0}}}])}(),exports.ngNucleus=exports.default});